//////////////////////////////////////////////////////////////
// ðŸ“˜ BLOQUE 1 â€” CONCEPTOS BÃSICOS DE ALGORITMOS
//////////////////////////////////////////////////////////////

// Un algoritmo tiene tres partes:
// 1ï¸âƒ£ Ambiente: definiciÃ³n de datos, archivos, variables
// 2ï¸âƒ£ Subacciones: bloques reutilizables (modularizaciÃ³n)
// 3ï¸âƒ£ Algoritmo principal: donde se ejecuta la lÃ³gica general

Accion ejemplo_basico Es
  Ambiente
    num1, num2, suma: entero
  FinAmbiente

  Subaccion sumar Es
    suma := num1 + num2
  FinSubaccion

  Algoritmo
    Esc("Ingrese dos nÃºmeros:")
    Leer(num1, num2)
    sumar
    Esc("La suma es: ", suma)
  FinAlgoritmo
FinAccion


//////////////////////////////////////////////////////////////
// ðŸ“— BLOQUE 2 â€” CONTROL DE FLUJO
//////////////////////////////////////////////////////////////

// ðŸ”¹ Estructura condicional (SI...SINO)
Algoritmo condicional_simple
  Leer(edad)
  Si edad >= 18 Entonces
    Esc("Mayor de edad")
  Sino
    Esc("Menor de edad")
  FinSi
FinAlgoritmo

// ðŸ”¹ Estructura repetitiva (MIENTRAS)
Algoritmo mientras_ejemplo
  cont := 1
  Mientras cont <= 5 Hacer
    Esc("Contador = ", cont)
    cont := cont + 1
  FinMientras
FinAlgoritmo

// ðŸ”¹ Corte de control simple
// Detecta cambio de clave en un archivo ordenado

Accion corte_simple Es
  Ambiente
    reg = Registro
      zona: N(2)
      ventas: N(6)
    FinRegistro
    Arch: archivo de reg ordenado por zona
    r: reg
    RegZona: N(2)
    totalZona, totalGeneral: entero
  FinAmbiente

  Subaccion inicializar Es
    Abrir E/(Arch)
    Leer(Arch, r)
    totalZona := 0
    totalGeneral := 0
    RegZona := r.zona
  FinSubaccion

 
  Algoritmo
    inicializar
    Mientras NFDA(Arch) Hacer
      Si r.zona <> RegZona Entonces
        corte_zona
      FinSi
      totalZona := totalZona + r.ventas
      Leer(Arch, r)
    FinMientras
    corte_zona
    Esc("Total general: ", totalGeneral)
    Cerrar(Arch)
  FinAlgoritmo
FinAccion


//////////////////////////////////////////////////////////////
// ðŸ“™ BLOQUE 3 â€” SUBACCIONES Y MODULARIZACIÃ“N
//////////////////////////////////////////////////////////////

// Las subacciones permiten dividir el cÃ³digo en partes mÃ¡s claras.

Subaccion mostrar_suma Es
  Esc("La suma es: ", resultado)
FinSubaccion

Accion modularizacion_ejemplo Es
  Ambiente
    a, b, resultado: entero
  FinAmbiente

  Subaccion sumar Es
    resultado := a + b
  FinSubaccion

  Algoritmo
    Esc("Ingrese dos nÃºmeros:")
    Leer(a, b)
    sumar
    mostrar_suma
  FinAlgoritmo
FinAccion


//////////////////////////////////////////////////////////////
// ðŸ“’ BLOQUE 4 â€” PROCESAMIENTO DE ARCHIVOS
//////////////////////////////////////////////////////////////

// Archivo maestro simple â€” muestra cÃ³mo leer y sumar registros

Accion procesamiento_archivo Es
  Ambiente
    reg = Registro
      id: N(5)
      monto: R(8,2)
    FinRegistro
    Arch: archivo de reg ordenado por id
    r: reg
    total: real
  FinAmbiente

  Subaccion inicializar Es
    Abrir E/(Arch)
    Leer(Arch, r)
    total := 0
  FinSubaccion

  Algoritmo
    inicializar
    Mientras NFDA(Arch) Hacer
      total := total + r.monto
      Leer(Arch, r)
    FinMientras
    Esc("Total general de montos: ", total)
    Cerrar(Arch)
  FinAlgoritmo
FinAccion


//////////////////////////////////////////////////////////////
// ðŸ“• BLOQUE 5 â€” ARREGLOS Y ESTRUCTURAS
//////////////////////////////////////////////////////////////

// Ejemplo: recorrer un arreglo con valores precargados
Accion arreglo_ejemplo Es
  Ambiente
    gito
    i, suma: entero
  FinAmbiente

  Algoritmo
    Para i := 1 Hasta 5 Hacer
      Esc("Ingrese nÃºmero ", i, ": ")
      Leer(V[i])
    FinPara

    suma := 0
    Para i := 1 Hasta 5 Hacer
      suma := suma + V[i]
    FinPara

    Esc("La suma total del arreglo es: ", suma)
  FinAlgoritmo
FinAccion


//////////////////////////////////////////////////////////////
// ðŸ““ BLOQUE 6 â€” CORTE DE CONTROL MÃšLTIPLE (CASO DE EXAMEN)
//////////////////////////////////////////////////////////////

// Este ejemplo es una versiÃ³n resumida del Ejercicio 3.27
// Claves: Zona (corte 2) y Tipo de MercaderÃ­a (corte 1)

Accion corte_multiple Es
  Ambiente
    reg = Registro
      zona: N(1)
      tipo: N(1)
      unidades: N(4)
    FinRegistro
    Arch: archivo de reg ordenado por zona, tipo
    r: reg
    RegZona, RegTipo: N(1)
    contTipo, contZona, contGeneral: entero
  FinAmbiente

  Subaccion inicializar Es
    Abrir E/(Arch)
    Leer(Arch, r)
    contTipo := 0
    contZona := 0
    contGeneral := 0
    RegZona := r.zona
    RegTipo := r.tipo
  FinSubaccion

  Subaccion corte_1 Es
    Esc("  Tipo ", RegTipo, " total: ", contTipo)
    contZona := contZona + contTipo
    contTipo := 0
    RegTipo := r.tipo
  FinSubaccion

  Subaccion corte_2 Es
    corte_1
    Esc("Zona ", RegZona, " total: ", contZona)
    contGeneral := contGeneral + contZona
    contZona := 0
    RegZona := r.zona
  FinSubaccion

  Subaccion tratar_corte Es
    Si r.zona <> RegZona Entonces
      corte_2
    Sino
      Si r.tipo <> RegTipo Entonces
        corte_1
      FinSi
    FinSi
  FinSubaccion

  Subaccion tratar_registro Es
    contTipo := contTipo + r.unidades
  FinSubaccion

  Algoritmo
    inicializar
    Mientras NFDA(Arch) Hacer
      tratar_corte
      tratar_registro
      Leer(Arch, r)
    FinMientras
    corte_2
    Esc("Total general: ", contGeneral)
    Cerrar(Arch)
  FinAlgoritmo
FinAccion
=